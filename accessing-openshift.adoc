## Accessing OpenShift

OpenShift is a multi tenant system capable of supporting multiple users at
the same time. To do anything within an OpenShift environment you must
first login. Once you have access, before you can deploy any application,
you must also have a project to deploy it into.

In this set of exercises you will login into the OpenShift environment and
create a project to work in.

### Logging in from the command line

In order to login using the `oc` command line client, run the command:

[source]
----
$ oc login {{CONSOLE_ADDRESS}}
----

You may see the following output:

[source]
----
The server uses a certificate signed by an unknown authority.
You can bypass the certificate check, but any data you send to the server could be intercepted by others.
Use insecure connections? (y/n):
----

Respond with `Y`.

The reason you received this message is because the OpenShift environment
being used for this workshop is using a self-signed certificate. In a
real-world scenario, either OpenShift's certificate would be signed by a
standard CA (eg: Thawte, Verisign, StartSSL, etc.) or signed by a
corporate-standard CA that you already have installed on your system.

[NOTE]
====
On some versions of Microsoft Windows, you may get an error that the server
has an invalid x.509 certificate. If you receive this error, use the
following command instead:

[source]
----
$ oc login {{CONSOLE_ADDRESS}} --insecure-skip-tls-verify=true
----
====

Once you issue the `oc login` command, you will be prompted for the
user name and password combination for your assigned user account:

[source,role=copypaste]
----
Username: userXX
Password: pyconus2017
----

When you have been authenticated successfully, you will see the following
confirmation message:

[source]
----
Login successful.

You don't have any projects. You can try to create a new project, by running

    oc new-project <projectname>
----

### Using a project

Projects are a top level concept to help you organize your deployments. An
OpenShift project allows a community of users (or a user) to organize and manage
their content in isolation from other communities. Each project has its own
resources, policies (who can or cannot perform actions), and constraints (quotas
and limits on resources, etc). Projects act as a "wrapper" around all the
application services and endpoints you (or your teams) are using for your work.
For this first lab, we are going to use a project named *smoke* that has been
created and populated with an application for you.

During this lab, we are going to use a few different commands to make sure that
things in the environment are working as expected.  Don't worry if you don't
understand all of the terminology as we will cover it in detail in later labs.

The first thing we want to do is switch to the *{{EXPLORE_PROJECT_NAME}}{{USER_SUFFIX}}* project. You
can do this with the following command:

[source,role=copypaste]
----
oc project {{EXPLORE_PROJECT_NAME}}{{USER_SUFFIX}}
----

You will see the following confirmation message:

[source]
----
Now using project "{{EXPLORE_PROJECT_NAME}}{{USER_SUFFIX}}" on server "https://{{CONSOLE_ADDRESS}}".
----

### The Web Console

OpenShift ships with a web-based console that will allow users to
perform various tasks via a browser.  To get a feel for how the web console
works, open your browser and go to the following URL:

*link:https://{{CONSOLE_ADDRESS}}[]*

The first screen you will see is the authentication screen.  Enter in the following credentials:

[source]
----
Username: {{USER_NAME}}
Password: {{USER_PASSWORD}}
----

image::ocp-login.png[OpenShift Login Screen]

After you have authenticated to the web console, you will be presented with a
list of projects that your user has permission to work with. You will see
something that looks like the following image:

image::explore-webconsole1.png[Web Console]

Click on the *{{EXPLORE_PROJECT_NAME}}{{USER_SUFFIX}}* project. When you click on the
*{{EXPLORE_PROJECT_NAME}}{{USER_SUFFIX}}* project, you will be taken to the project overview page
which will list all of the routes, services, deployments, and pods that you have
running as part of your project. There's nothing there now, but that's about to
change.

image::explore-webconsole2.png[Explore Project]

{% if METRICS_ENABLED %}

Lastly, the web console will show you an error: _An error occurred getting
metrics._  We need to accept another self-signed certificate for OpenShift's metrics
aggregation. If we don't, then the metrics will not display in the OpenShift UI.

Click the link that says *Open metrics URL*, and accept the certificate.

{% endif %}

We will be using a mix of command line tooling and the web console for the labs.
Get ready!
